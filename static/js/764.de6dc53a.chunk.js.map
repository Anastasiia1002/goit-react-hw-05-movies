{"version":3,"file":"static/js/764.de6dc53a.chunk.js","mappings":"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","sources":["api/api.js","components/Loader/Loader.js","pages/Movies.js","webpack://goit-react-hw-05-movies/./src/pages/pages.module.css?46e1"],"sourcesContent":["// https://api.themoviedb.org/3/movie/550?api_key=8e91b8bd1f2d96428ef4a7725a482066\n\nimport axios from 'axios';\n\nconst API_KEY = '8e91b8bd1f2d96428ef4a7725a482066';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\nexport async function getPopularApi() {\n  try {\n    const config = {\n      url: `trending/movie/day`,\n      params: {},\n    };\n    const { data } = await axios(config);\n    return data;\n  } catch (error) {\n    console.log('error');\n    return null;\n  }\n}\n\nexport async function getSearchApi(query) {\n  try {\n    const config = {\n      url: `search/movie`,\n\n      params: {\n        query,\n      },\n    };\n    const { data } = await axios(config);\n    return data;\n  } catch (error) {\n    console.log('error');\n    return null;\n  }\n}\n\nexport async function getMovieIdApi(movie_id) {\n  try {\n    const config = {\n      url: `movie/${movie_id}`,\n\n      params: {},\n    };\n    const { data } = await axios(config, movie_id);\n    return data;\n  } catch (error) {\n    console.log('error');\n    return null;\n  }\n}\nexport async function getMovieCastApi(movie_id) {\n  try {\n    const { data } = await axios(`movie/${movie_id}/credits`);\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\nexport async function getMovieReviewApi(movie_id) {\n  try {\n    const { data } = await axios(`movie/${movie_id}/reviews`);\n    return data.results;\n  } catch (error) {\n    console.log('error');\n    return null;\n  }\n}\n","import RiseLoader from 'react-spinners/RiseLoader';\n\nexport default function Loader() {\n  return (\n    <div>\n      <RiseLoader color=\"#ca36d6\" />;\n    </div>\n  );\n}\n","import { Link } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { getSearchApi } from '../api/api';\nimport s from './pages.module.css';\nimport { ImSearch } from 'react-icons/im';\nimport Loader from '../components/Loader/Loader';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\nconst Movies = () => {\n  const [query, setQuery] = useState();\n  const [search, setSearch] = useState();\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [error, setError] = useState(null);\n  //   const location = useLocation();\n\n  const changeQuery = e => {\n    setSearch(e.currentTarget.value);\n  };\n\n  useEffect(() => {\n    if (!query) return;\n    setStatus(Status.PENDING);\n    getSearchApi(query)\n      .then(data => {\n        if (data.results.length === 0) {\n          alert(`Відсутній фільм з назвою ${query}`);\n          setStatus(Status.REJECTED);\n          // return;\n        }\n        setMovies(data.results);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        console.log(error);\n        setError('Oops');\n        setStatus(Status.REJECTED);\n      });\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (search.trim() === '') {\n      alert('Будь ласка, введіть дані для пошуку!');\n      return;\n    }\n    setQuery(search);\n  };\n\n  return (\n    <>\n      <div>\n        <span className={s.title}>Movies</span>\n        <div className={s.form}>\n          <form className={s.searchForm} onSubmit={handleSubmit}>\n            <button type=\"submit\" className={s.searchFormButton}>\n              <ImSearch />\n              <span className={s.searchFormButtonLabel}>Search</span>\n            </button>\n\n            <input\n              className={s.searchFormInput}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search movie\"\n              onChange={changeQuery}\n            />\n          </form>\n        </div>\n      </div>\n\n      {status === Status.PENDING && <Loader />}\n      {status === Status.REJECTED && { error }}\n      {status === Status.RESOLVED && (\n        <div>\n          <ul className={s.list}>\n            {movies.map(movie => (\n              <li key={movie.id} className={s.ImageGalleryItem}>\n                <Link\n                  to={{\n                    pathname: `${movie.id}`,\n                    // state: { from: location },\n                  }}\n                >\n                  <img\n                    src={\n                      movie.poster_path\n                        ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                        : 'https://previews.123rf.com/images/studiostoks/studiostoks1602/studiostoks160200045/51904057-oops-%C3%BCberraschte-frau-pop-art-retro-stil-unerwartete-nachrichten-business-konzept.jpg?fj=1'\n                    }\n                    alt={movie.title}\n                    className={s.image}\n                  />\n                </Link>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </>\n  );\n};\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"pages_title__EC3Ll\",\"list\":\"pages_list__+bVih\",\"ImageGalleryItem\":\"pages_ImageGalleryItem__5ZPiR\",\"image\":\"pages_image__BWnCy\",\"searchForm\":\"pages_searchForm__TALIx\",\"searchFormButton\":\"pages_searchFormButton__bcv4k\",\"searchFormButtonLabel\":\"pages_searchFormButtonLabel__84zHh\",\"searchFormInput\":\"pages_searchFormInput__vWBYm\",\"form\":\"pages_form__dHgDk\"};"],"names":["getPopularApi","config","url","params","axios","data","console","log","getSearchApi","query","getMovieIdApi","movie_id","getMovieCastApi","cast","error","getMovieReviewApi","results","api_key","language","Loader","color","Status","useState","setQuery","search","setSearch","movies","setMovies","status","setStatus","setError","useEffect","then","length","alert","catch","className","s","onSubmit","e","preventDefault","trim","type","autoComplete","autoFocus","placeholder","onChange","currentTarget","value","map","movie","to","pathname","id","src","poster_path","alt","title"],"sourceRoot":""}