{"version":3,"file":"static/js/457.db7928df.chunk.js","mappings":"2TAUO,SAAeA,IAAtB,4CAAO,OAAP,oBAAO,wGAEGC,EAAS,CACbC,IAAI,qBACJC,OAAQ,CAAC,GAJR,SAMoBC,IAAMH,GAN1B,uBAMKI,EANL,EAMKA,KANL,kBAOIA,GAPJ,uCASHC,QAAQC,IAAI,SATT,kBAUI,MAVJ,gFAcA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA4BC,GAA5B,2FAEGR,EAAS,CACbC,IAAI,eAEJC,OAAQ,CACNM,MAAAA,IAND,SASoBL,IAAMH,GAT1B,uBASKI,EATL,EASKA,KATL,kBAUIA,GAVJ,uCAYHC,QAAQC,IAAI,SAZT,kBAaI,MAbJ,gFAiBA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAA6BC,GAA7B,2FAEGV,EAAS,CACbC,IAAI,SAAD,OAAWS,GAEdR,OAAQ,CAAC,GALR,SAOoBC,IAAMH,EAAQU,GAPlC,uBAOKN,EAPL,EAOKA,KAPL,kBAQIA,GARJ,uCAUHC,QAAQC,IAAI,SAVT,kBAWI,MAXJ,gFAcA,SAAeK,EAAtB,+CAAO,OAAP,oBAAO,WAA+BD,GAA/B,kGAEoBP,IAAM,SAAD,OAAUO,EAAV,aAFzB,uBAEKN,EAFL,EAEKA,KAFL,kBAGIA,EAAKQ,MAHT,uCAKHP,QAAQC,IAAI,QAAS,CAAEO,MAAK,OALzB,kBAMI,MANJ,gFASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCJ,GAAjC,kGAEoBP,IAAM,SAAD,OAAUO,EAAV,aAFzB,uBAEKN,EAFL,EAEKA,KAFL,kBAGIA,EAAKW,SAHT,uCAKHV,QAAQC,IAAI,SALT,kBAMI,MANJ,gFA3DPH,IAAAA,SAAAA,QAAyB,gCACzBA,IAAAA,SAAAA,OAAwB,CACtBa,QAHc,mCAIdC,SAAU,Q,uFCNG,SAASC,IACtB,OACE,4BACE,SAAC,IAAD,CAAYC,MAAM,YADpB,MAIH,C,0HCPD,GAAgB,MAAQ,uBAAuB,QAAU,0B,SCKnDC,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAkDZ,EA/CgB,WACd,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA4BE,EAAAA,EAAAA,UAASH,GAArC,eAAOI,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOV,EAAP,KAAca,EAAd,KACA,GAA8BH,EAAAA,EAAAA,YAA9B,eAAOI,EAAP,KAAgBC,EAAhB,KAmBA,OAjBAC,EAAAA,EAAAA,YAAU,YACRf,EAAAA,EAAAA,GAAkBO,GACfS,MAAK,SAAAC,GAKJH,EAAWG,GACXN,EAAUL,EACX,IACAY,OAAM,SAAAnB,GACLR,QAAQC,IAAIO,GACZa,EAASb,GACTY,EAAUL,EACX,GACJ,GAAE,CAACC,KAGF,gCACGG,IAAWJ,IAAkB,SAACF,EAAA,EAAD,IAC7BM,IAAWJ,GAAmB,CAAEP,MAAAA,GAChCW,IAAWJ,IACV,iBAAKa,UAAWC,EAAAA,QAAhB,WACE,iBAAMD,UAAWC,EAAAA,MAAjB,qBACoB,IAAnBP,EAAQQ,QACP,eAAIF,UAAWC,EAAAA,MAAf,SACGP,EAAQS,KAAI,SAAAL,GAAG,OACd,gBAAyBE,UAAWC,EAAAA,KAApC,qBACWH,EAAIM,QACb,uBAAIN,EAAIO,YAFDP,EAAIQ,WADC,MAQlB,8CAMX,C","sources":["api/api.js","components/Loader/Loader.js","webpack://goit-react-hw-05-movies/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.js"],"sourcesContent":["// https://api.themoviedb.org/3/movie/550?api_key=8e91b8bd1f2d96428ef4a7725a482066\n\nimport axios from 'axios';\n\nconst API_KEY = '8e91b8bd1f2d96428ef4a7725a482066';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\nexport async function getPopularApi() {\n  try {\n    const config = {\n      url: `trending/movie/day`,\n      params: {},\n    };\n    const { data } = await axios(config);\n    return data;\n  } catch (error) {\n    console.log('error');\n    return null;\n  }\n}\n\nexport async function getSearchApi(query) {\n  try {\n    const config = {\n      url: `search/movie`,\n\n      params: {\n        query,\n      },\n    };\n    const { data } = await axios(config);\n    return data;\n  } catch (error) {\n    console.log('error');\n    return null;\n  }\n}\n\nexport async function getMovieIdApi(movie_id) {\n  try {\n    const config = {\n      url: `movie/${movie_id}`,\n\n      params: {},\n    };\n    const { data } = await axios(config, movie_id);\n    return data;\n  } catch (error) {\n    console.log('error');\n    return null;\n  }\n}\nexport async function getMovieCastApi(movie_id) {\n  try {\n    const { data } = await axios(`movie/${movie_id}/credits`);\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\nexport async function getMovieReviewApi(movie_id) {\n  try {\n    const { data } = await axios(`movie/${movie_id}/reviews`);\n    return data.results;\n  } catch (error) {\n    console.log('error');\n    return null;\n  }\n}\n","import RiseLoader from 'react-spinners/RiseLoader';\n\nexport default function Loader() {\n  return (\n    <div>\n      <RiseLoader color=\"#ca36d6\" />;\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Reviews_title__t265C\",\"reviews\":\"Reviews_reviews__n3fdK\"};","import { getMovieReviewApi } from '../../api/api';\nimport { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport Loader from '../Loader/Loader';\nimport s from './Reviews.module.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [status, setStatus] = useState(Status.IDLE);\n  const [error, setError] = useState(null);\n  const [reviews, setReviews] = useState();\n\n  useEffect(() => {\n    getMovieReviewApi(movieId)\n      .then(rev => {\n        // if (rev.length === 0) {\n        //   setStatus(Status.IDLE);\n        //   return;\n        // }\n        setReviews(rev);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        console.log(error);\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [movieId]);\n\n  return (\n    <>\n      {status === Status.PENDING && <Loader />}\n      {status === Status.REJECTED && { error }}\n      {status === Status.RESOLVED && (\n        <div className={s.reviews}>\n          <span className={s.title}>Reviews</span>\n          {reviews.length !== 0 ? (\n            <ul className={s.lists}>\n              {reviews.map(rev => (\n                <li key={rev.created_at} className={s.list}>\n                  Author: {rev.author}\n                  <p>{rev.content}</p>\n                </li>\n              ))}\n            </ul>\n          ) : (\n            'Sorry, there are currently no reviews!'\n          )}\n        </div>\n      )}\n    </>\n  );\n};\nexport default Reviews;\n"],"names":["getPopularApi","config","url","params","axios","data","console","log","getSearchApi","query","getMovieIdApi","movie_id","getMovieCastApi","cast","error","getMovieReviewApi","results","api_key","language","Loader","color","Status","movieId","useParams","useState","status","setStatus","setError","reviews","setReviews","useEffect","then","rev","catch","className","s","length","map","author","content","created_at"],"sourceRoot":""}